const blogsContainer = document.getElementById('blogs');

export const apiArticles = [
  {
    "title": "ANALYSIS-Taiwan studies Ukraine war for own battle strategy with China",
    "description": "Ma Cheng-Kun, director of the Graduate Institute of China Military Affairs Studies at Taiwan's National Defence University, said Ukraine had used the same concept with mobile weapons to stymie Russian forces. \"Ukraine's military has been making full use of asymmetric warfare, very effectively, and so far successfully holding off Russia's advance,\" added Ma, a government advisor on China policy.",
    "content": "Taiwan's military strategists have been studying Russia's invasion of Ukraine, and the country's resistance, for the island's own battle strategy in the event its giant neighbour China ever makes good on its threat to take them by force.\nWhile Taiwan... [4109 chars]",
    "url": "https://www.devdiscourse.com/article/technology/1954473-analysis-taiwan-studies-ukraine-war-for-own-battle-strategy-with-china",
    "image": "https://www.devdiscourse.com/remote.axd?https://devdiscourse.blob.core.windows.net/imagegallery/27_06_2019_18_33_51_6762345.png?width=920&format=jpeg",
    "publishedAt": "2022-03-09T01:11:36Z",
    "source": {
      "name": "Devdiscourse",
      "url": "https://www.devdiscourse.com"
    }
  },
  {
    "title": "Breaking News, March 9 | LIVE UPDATES",
    "description": "Breaking News LIVE UPDATES, 9th March 2022 breaking news, exit polls, Breaking News LIVE Updates, Russia Ukraine War, UP Election 2022, Omicron variant, Covid, coronavirus, Ukraine crisis, indians evacuation, Prime Minister Narendra Modi, Global Investors, Nitin Gadkari, mumbai rains, Union Cabinet",
    "content": "The district administration on Tuesday finalised the temporary rehabilitation plan for Chintels Paradiso residents, asking the builder to work out a permanent settlement proposal by March 11. Two women were killed after the dining room floor of a six... [553 chars]",
    "url": "https://www.indiatvnews.com/news/india/breaking-news-live-updates-coronavirus-pandemic-omicron-assembly-election-exit-polls-up-election-russia-ukraine-war-petrol-diesel-price-9th-march-2022-763357",
    "image": "https://resize.indiatvnews.com/en/resize/newbucket/715_-/2022/03/breaking-news-new-template-1646786883.jpg",
    "publishedAt": "2022-03-09T01:05:15Z",
    "source": {
      "name": "India TV News",
      "url": "https://www.indiatvnews.com"
    }
  },
  {
    "title": "Ukraine Russia War: यूक्रेन-रूस जंग के बीच अमेरिका का बड़ा कदम, मॉस्को से तेल-गैस के आयात पर लगाई रोक, जानें क्या होगा असर",
    "description": "अमेरिकी राष्ट्रपति जो बाइडेन ने इस फैसले की घोषणा करते हुए दावा किया कि यह कदम रूसी अर्थव्यवसथा को गहरी चोट पहुंचाएगा.",
    "content": "Ukraine Russia War: अमेरिका के राष्ट्रपति जो बाइडन ने यूक्रेन पर रूस के हमले के जवाब में उसकी अर्थव्यवस्था को और कमजोर करने के इरादे से मंगलवार को घोषणा की. उन्होंने रूसी गैस, तेल और ऊर्जा के सभी आयातों पर प्रतिंबध लगाने की घोषणा की. उन्होंने दावा कि... [1563 chars]",
    "url": "https://www.abplive.com/news/world/us-imposed-a-ban-on-the-import-of-russian-gas-and-oil-know-what-will-be-the-effect-of-this-decision-2077105",
    "image": "https://feeds.abplive.com/onecms/images/uploaded-images/2022/03/08/7cd9d115dcf09fd0b333155ecef000ad_original.jpg?impolicy=abp_cdn&imwidth=1200&imheight=628",
    "publishedAt": "2022-03-09T01:02:12Z",
    "source": {
      "name": "ABP News",
      "url": "https://www.abplive.com"
    }
  },
  {
    "title": "High petrol prices here to stay, NRMA says",
    "description": "Australian drivers will have to pay more than $2 a litre for petrol as long as Russia's war on Ukraine continues, the NRMA believes. Spokesman Peter Khoury sa...",
    "content": "news, latest-news\nAustralian drivers will have to pay more than $2 a litre for petrol as long as Russia's war on Ukraine continues, the NRMA believes. Spokesman Peter Khoury says the price drivers are paying at the bowser is unprecedented. \"In Austra... [2474 chars]",
    "url": "https://www.canberratimes.com.au/story/7651262/high-petrol-prices-here-to-stay-nrma-says/",
    "image": "https://www.canberratimes.com.au/images/transform/v1/crop/frm/silverstone-feed-data/22a0d4ff-2604-410b-af26-eaf400d3339f.jpg/r0_74_800_526_w1200_h678_fmax.jpg",
    "publishedAt": "2022-03-09T00:54:35Z",
    "source": {
      "name": "The Canberra Times",
      "url": "https://www.canberratimes.com.au"
    }
  },
  {
    "title": "Russia-Ukraine war: what we know on day 14 of the Russian invasion",
    "description": "The US appears to reject Polish offer to hand over its fighter jet fleet to help Ukraine as Russia is accused of shelling civilians trying to leave Mariupol",
    "content": "The Pentagon has dismissed Poland’s plan to hand its MiG-29 fighter jets to the US, to donate them to Ukraine. The Polish foreign minister, Zbigniew Rau, said his government was “ready to deploy – immediately and free of charge – all their MiG-29 jet... [3057 chars]",
    "url": "https://www.theguardian.com/world/2022/mar/09/russia-ukraine-war-what-we-know-on-day-14-of-the-russian-invasion",
    "image": "https://i.guim.co.uk/img/media/e7767841d1df05ddb6b9503781c15f72555d76ae/0_294_5184_3110/master/5184.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=74118396bb6a6fe1c20e04b746451692",
    "publishedAt": "2022-03-09T00:38:16Z",
    "source": {
      "name": "The Guardian",
      "url": "https://www.theguardian.com"
    }
  },
  {
    "title": "Ukraine war: 'Every penny paid to Russia turns into bullets and projectiles': Zelenskyy thanks the US for Russian oil ban",
    "description": "US President Joe Biden said the latest sanctions against Moscow over the invasion of Ukraine would target the \"main artery\" of Russia's economy while Boris Johnson said \"disgust and outrage\" over the war was mounting worldwide.",
    "content": "Ukraine's President Volodymyr Zelenskyy has thanked US President Joe Biden following his announcement of a ban on Russian oil imports.\nPresident Biden said America's latest move to punish Mr Putin over his invasion of Ukraine - which will also stop g... [4682 chars]",
    "url": "https://news.sky.com/story/ukraine-war-every-penny-paid-to-russia-turns-into-bullets-and-projectiles-zelenskyy-thanks-the-us-for-russian-oil-ban-12561330",
    "image": "https://e3.365dm.com/22/02/1600x900/skynews-oil-field-rosneft-vankorskoye_5688880.jpg?20220227172640",
    "publishedAt": "2022-03-09T00:36:00Z",
    "source": {
      "name": "Sky News",
      "url": "https://news.sky.com"
    }
  },
  {
    "title": "US inflation all gassed up, but Biden has new excuse",
    "description": "For Mr Biden, who is languishing in the polls, the Ukraine war has become a handy excuse to explain higher fuel prices.",
    "content": "Inflation in the US is expected to hit a new 40-year high of 7.9 per cent when data for February is released this Thursday (Friday AEDT). The monthly figure is projected to be among the 10 largest monthly rises in the past 40 years.\nBut for Biden, wh... [2707 chars]",
    "url": "https://www.afr.com/world/north-america/us-inflation-all-gassed-up-but-biden-no-longer-to-blame-20220309-p5a2yl",
    "image": "https://static.ffx.io/images/$zoom_0.3502%2C$multiply_3%2C$ratio_1.777778%2C$width_1059%2C$x_0%2C$y_307/t_crop_custom/c_scale%2Cw_800%2Cq_88%2Cf_jpg/t_afr_analysis_no_age_social_wm/fbe63658ad21fa41f8c7d0cdb1542187c855e3be",
    "publishedAt": "2022-03-09T00:30:50Z",
    "source": {
      "name": "The Australian Financial Review",
      "url": "https://www.afr.com"
    }
  },
  {
    "title": "Ukraine war: The talking, tears and TikTok therapy of the conflict's broken children",
    "description": "Across Ukraine millions of children are caught up in a war that is not of their making. One group of orphans and children from broken families have just escaped shelling in southeast Ukraine. After a long and dangerous two-day train journey they found temporary shelter in Lviv.",
    "content": "In war, it is always the children: Always the children displaced, always the children disorientated, always the children without a say in what adults are doing to their world.\nA school building in Lviv, in western Ukraine, now houses almost 80 boys a... [2657 chars]",
    "url": "https://news.sky.com/story/ukraine-war-the-talking-tears-and-tiktok-therapy-of-the-conflicts-broken-children-12561253",
    "image": "https://e3.365dm.com/22/03/1600x900/skynews-ukraine-russia_5699515.jpg?20220308225932",
    "publishedAt": "2022-03-08T23:51:00Z",
    "source": {
      "name": "Sky News",
      "url": "https://news.sky.com"
    }
  },
  {
    "title": "RBA governor Philip Lowe admits Ukraine conflict could force 2022 rate hike",
    "description": "The head of the Reserve Bank says it is plausible Aussie borrowers will see an interest rate hike late in 2022 as the war in Ukraine and intensifying inflation increases adds some kick to an already uncertain economic cocktail.",
    "content": "Reserve Bank governor Philip Lowe says settings aren’t quite right for a rate hike, but he admits one thing could change that.\nThe head of the Reserve Bank says it is plausible Aussie borrowers will see an interest rate hike late in 2022 as the war i... [3321 chars]",
    "url": "https://www.news.com.au/finance/economy/interest-rates/what-could-trigger-2022-rate-hike-as-rba-governor-philip-lowe-urges-patience/news-story/5455d7a9ae373d2e158a534c757303c1",
    "image": "https://content.api.news/v3/images/bin/63454399e1d6d1a9d8a33290d30c82be",
    "publishedAt": "2022-03-08T23:43:00Z",
    "source": {
      "name": "NEWS.com.au",
      "url": "https://www.news.com.au"
    }
  },
  {
    "title": "NATO chief warns Russia away from attacking supply lines supporting Ukraine",
    "description": "NATO's secretary general has warned that a Russian attack on the supply lines of allied nations supporting Ukraine with arms and munitions would be a dangerous escalation of the war raging in eastern Europe.",
    "content": "NATO's secretary general has warned that a Russian attack on the supply lines of allied nations supporting Ukraine with arms and munitions would be a dangerous escalation of the war raging in eastern Europe.\nJens Stoltenberg made the remarks Tuesday ... [7224 chars]",
    "url": "https://www.cbc.ca/news/politics/ukraine-russia-putin-stoltenberg-nato-1.6377675",
    "image": "https://i.cbc.ca/1.6377747.1646781945!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_620/latvia-canada-nato.jpg",
    "publishedAt": "2022-03-08T23:42:48Z",
    "source": {
      "name": "CBC.ca",
      "url": "https://www.cbc.ca"
    }
  }
];

// !! correct api call
export default async function getAPIBlogsPromise(query = "ukraine war") {
  // const satnameApiToken = "0f3ad16b85af65a572057b12e47ff87f";
  const sauravApiToken = "0ff921533ac540f5944a3c3e74446b84";
  const uri = `https://gnews.io/api/v4/search?q=${query}&token=${sauravApiToken}&max=10&lag=en&expand=true`;
  const encodedUri = encodeURI(uri);
  const responsePromise = await fetch(encodedUri);
  return responsePromise;
}

// !! add description
function getNewBlog(blog, blogId) {
  const { image, title, description, publishedAt } = blog;
  return `
   <li class="blog">
   <figure>
      <div class="blog__imgContainer">
        <img src=${image} class="img-fluid" alt="blog-img">
      </div>
      <figcaption class='blog__publishedAt'>${publishedAt}</figcaption>
    </figure>
    <div class="blog__body">
      <h2 class="blog__title">${title}</h2>
      <p class="blog__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem possimus praesentium odit facilis magnam, illo, ullam
      neque omnis officia perspiciatis dignissimos.</p>
    </div>
    <a href="blogPage.html" data-blogId=${blogId} onclick="setCurrentBlogIdInStorage(this)" class="blog__pageLink">Read
    <i class="bi bi-chevron-right"></i></a>
  </li>`
}

function renderBlogsContainer(blogs) {
  blogsContainer.innerHTML = "";
  blogs.forEach((blog, blogId) => {
    blogsContainer.innerHTML += getNewBlog(blog, blogId);
  });
}

async function init() {
  // const responsePromise = await getAPIBlogsPromise();
  // const data = await responsePromise.json();
  // console.log(data.articles);
  // renderBlogsContainer(data.articles);   // !! uncomment original code
  renderBlogsContainer(apiArticles);
};

init();
